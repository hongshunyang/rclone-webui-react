(this["webpackJsonp@rclone/rclone-webui-react"]=this["webpackJsonp@rclone/rclone-webui-react"]||[]).push([[11],{277:function(e,t,a){"use strict";var r=a(4);r.oneOfType([r.shape({Features:r.object.isRequired,Hashes:r.array.isRequired,Name:r.string.isRequired,Precision:r.number.isRequired,String:r.string.isRequired}),r.object]),r.shape({remoteName:r.string.isRequired,remotePath:r.string.isRequired}),r.string,r.bool,r.bool,r.shape({Path:r.string.isRequired,Name:r.string.isRequired,Size:r.number,MimeType:r.string,ModTime:r.string.isRequired,IsDir:r.bool.isRequired}),r.shape({rate:r.string.isRequired})},278:function(e,t,a){"use strict";a.d(t,"b",(function(){return o})),a.d(t,"c",(function(){return s})),a.d(t,"h",(function(){return l})),a.d(t,"d",(function(){return i})),a.d(t,"g",(function(){return c})),a.d(t,"l",(function(){return m})),a.d(t,"k",(function(){return d})),a.d(t,"j",(function(){return h})),a.d(t,"i",(function(){return u})),a.d(t,"f",(function(){return p})),a.d(t,"a",(function(){return g})),a.d(t,"n",(function(){return E})),a.d(t,"m",(function(){return f})),a.d(t,"e",(function(){return b}));var r=a(2),n=a(282);const o=(e,t,a)=>n=>{n({type:r.j,remoteName:t,id:e,remotePath:a}),n(l(e))},s=(e,t)=>a=>{a({type:r.k,remoteName:t,id:e,remotePath:""}),a(l(e))},l=e=>(t,a)=>{const r=a().explorer.currentPaths[e],o=r.remoteName,s=r.remotePath;o&&""!==o&&t(Object(n.e)(o,s))},i=(e,t)=>a=>{a({type:r.l,id:e,remotePath:t}),a(l(e))},c=e=>t=>{t({type:r.q,id:e})},m=e=>t=>{t({type:r.I,id:e})},d=e=>t=>{t({type:r.F,id:e}),t(l(e))},h=e=>t=>{t({type:r.E,id:e}),t(l(e))},u=e=>t=>{t({type:r.D,id:e}),t(l(e))},p=(e,t)=>a=>{a({type:r.o,id:e,filter:t})},g=(e,t)=>a=>{a({type:r.f,id:e,mode:t})},E=(e,t)=>a=>{a({type:r.m,id:e,searchQuery:t})},f=(e,t)=>a=>{a({type:r.i,id:e,payload:t})},b=(e,t,a)=>n=>{n({type:r.n,id:e,payload:{sortFilter:t,sortFilterAscending:a}})}},282:function(e,t,a){"use strict";a.d(t,"f",(function(){return l})),a.d(t,"g",(function(){return i})),a.d(t,"e",(function(){return c})),a.d(t,"d",(function(){return m})),a.d(t,"a",(function(){return d})),a.d(t,"h",(function(){return h})),a.d(t,"b",(function(){return u})),a.d(t,"c",(function(){return p}));var r=a(2),n=a(60),o=a(278),s=a(279);const l=e=>t=>{Object(s.getRemoteInfo)(e).then(a=>{t({type:r.v,status:r.L,payload:{[e.split(":")[0]]:a}})},e=>t({type:r.v,status:r.J,payload:e}))},i=()=>(e,t)=>{const a=t();(!a.remote.remotes||a.remote.remotes.length<1)&&Object(s.getAllRemoteNames)().then(t=>e({type:r.A,status:r.L,payload:t.remotes}),t=>e({type:r.A,status:r.J,payload:t}))},c=(e,t)=>a=>{if(""!==e){const n="".concat(e,"-").concat(t);Object(s.getFilesList)(e,t).then(e=>a({type:r.w,status:r.L,payload:{path:n,filesList:e.list}}),e=>a({type:r.w,status:r.J,payload:{path:n,error:e}}))}},m=(e,t)=>a=>{if(!e||e<0)throw new Error("Invalid number of cols:".concat(e));a({type:r.h,payload:{numCols:e,mode:t}})},d=e=>t=>{const a=Object(n.l)(3);t(Object(o.g)(a)),t(u(a,e)),t({type:r.a,payload:{containerID:a,paneID:e}})},h=(e,t)=>a=>{a(Object(o.l)(e)),a({type:r.G,payload:{containerID:e,paneID:t}})},u=(e,t)=>a=>{a({type:r.b,payload:{containerID:e,paneID:t}})},p=e=>t=>{t({type:r.e,payload:e})}},337:function(e,t,a){"use strict";var r=a(0),n=a.n(r),o=a(327),s=a.n(o);const l=(e,t)=>{const a=t.trim().toLowerCase(),r=a.length;return 0===r?e:0===r?[]:e.filter(e=>e.toLowerCase().slice(0,r)===a)},i=e=>e,c=e=>n.a.createElement("div",null,e);class m extends n.a.Component{constructor(e){super(e),this.onSuggestionsFetchRequested=({value:e})=>{this.setState({suggestions:l(this.props.suggestions,e)})},this.onSuggestionsClearRequested=()=>{this.setState({suggestions:[]})},this.state={suggestions:[]}}render(){const e=this.props,t={placeholder:"Type the name of remote you want to open",value:e.value,onChange:e.onChange};return n.a.createElement(s.a,{suggestions:this.state.suggestions,onSuggestionsFetchRequested:this.onSuggestionsFetchRequested,onSuggestionsClearRequested:this.onSuggestionsClearRequested,getSuggestionValue:i,renderSuggestion:c,highlightFirstSuggestion:!0,inputProps:t,style:{width:"100%"}})}}var d=m,h=a(84),u=a(282),p=a(278),g=a(291),E=a(52),f=a(293);a(277);class b extends n.a.Component{constructor(e){super(e),this.shouldUpdateRemoteName=(e,{newValue:t})=>{0===t.indexOf("/")?this.setState({remoteName:t,openButtonText:"Open local path"}):this.setState({remoteName:t,openButtonText:"Open"})},this.openRemote=e=>{e.preventDefault();(0,this.props.handleChangeRemoteName)(this.state.remoteName)},this.state={isEmpty:!1,remoteName:e.remoteName,openEnabled:!1,openButtonText:"Open"}}componentDidMount(){this.props.getRemoteNames()}render(){const e=this.state,t=e.isEmpty,a=e.remoteName,r=this.props.remotes;return this.props.hasError?n.a.createElement("div",null,"Error loading remotes. Please try again."):t?n.a.createElement("div",null,"Add some remotes to see them here ",n.a.createElement("span",{role:"img","aria-label":"sheep"},"\ud83d\udc11"),"."):n.a.createElement(g.a,{onSubmit:this.openRemote,className:"row"},n.a.createElement(E.a,{xs:12,sm:10,lg:10},n.a.createElement(d,{value:a,onChange:this.shouldUpdateRemoteName,suggestions:r})),n.a.createElement(E.a,{xs:12,sm:2,lg:2},n.a.createElement(f.a,{className:"btn-lg",color:"success"},this.state.openButtonText)))}}b.defaultProps={};t.a=Object(h.b)((e,t)=>({remotes:e.remote.remotes,hasError:!1,error:e.remote.error,currentPath:e.explorer.currentPaths[t.containerID]}),{getRemoteNames:u.g,getFsInfo:u.f,changeRemoteName:p.c})(b)},582:function(e,t){},631:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACEAAAAhCAYAAABX5MJvAAAABHNCSVQICAgIfAhkiAAAAQhJREFUWEftlm0NwjAQhp8pAAdYQAI4wAHgAJQADpCAA0ABSEACEsiRlYym3W7LNTSk92tZbtdn7330KjKwKgMGCoTLQrZKrIBJR608gYNVPflKHIGlMrj4rpW+rW5NiClw6xnUBKQJMQPOPSHE/Q5IerR28lNpAaE9vOm3Bfah7hiqxBCIKyDnve1XSiSFmNc/J0W+a5EoKYRTtiu1BcJlyFQJVwMu+KV+GANSF878GjGF0F6Afo38H4TfhaU7/Alc5oT2MjPtDu2hvl8UQgbMAxgNjdzjO9lPN6GrXN4tAFnZUoKICnLOZxuLTTwZs6KMtQVXQe3YtYb5ilcgYoWZVPZY8CzS8QIbSj0iD+quAwAAAABJRU5ErkJggg=="},642:function(e,t){e.exports="data:image/png;base64,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"},643:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAALIAAABYCAYAAABRVa2MAAAABHNCSVQICAgIfAhkiAAAA1FJREFUeF7tlMFNJUEMBZcgNgjyz4XNAYIAiROHFaUy+nLTqrnasnrqld7Ty+v7+5++CPxyAk+J/MsT7PmfBBI5Ea4gkMhXxNhPJHIOXEEgka+IsZ9I5By4gkAiXxFjP5HIOXAFgUS+IsZ+IpFz4AoCiXxFjP1EIufAFQQS+YoY+4lEzoErCCTyFTH2Ez8W+flvEL8S+Pf2PY94/Z8PcSPLEpkIyTkFksiJLJXaWU/kGXfiRldrZCIk5xRIjVwjS6V21hN5xp240dUamQjJOQVSI9fIUqmd9USecSdudLVGJkJyToHUyDWyVGpnPZFn3IkbXa2RiZCcUyA1co0sldpZT+QZd+JGV2tkIiTnFEiNXCNLpXbWE3nGnbjR1RqZCMk5BVIj18hSqZ31RJ5xJ250tUYmQnJOgdTINbJUamc9kWfciRtdrZGJkJxTIDVyjSyV2llP5Bl34kZXa2QiJOcUSI1cI0uldtYTecaduNHVGpkIyTkFUiPXyFKpnfVEnnEnbnS1RiZCck6B1Mg1slRqZz2RZ9yJG12tkYmQnFMgNXKNLJXaWU/kGXfiRldrZCIk5xRIjVwjS6V21hN5xp240dUamQjJOQVSI9fIUqmd9USecSdudLVGJkJyToHUyDWyVGpnPZFn3IkbXa2RiZCcUyA1co0sldpZT+QZd+JGV2tkIiTnFEiNXCNLpXbWE3nGnbjR1RqZCMk5BVIj18hSqZ31RJ5xJ250tUYmQnJOgdTINbJUamc9kWfciRtdrZGJkJxTIDVyjSyV2llP5Bl34kZXa2QiJOcUSI1cI0uldtYTecaduNHVGpkIyTkFUiPXyFKpnfVEnnEnbnS1RiZCck6B1Mg1slRqZz2RZ9yJG12tkYmQnFMgNXKNLJXaWU/kGXfiRldrZCIk5xRIjVwjS6V21hN5xp240dUamQjJOQVSI9fIUqmd9USecSdudLVGJkJyToHUyIc2ssy59Qg8hMCPG/khr+poBCSBRJbAWj+TQCKfmUuvkgQSWQJr/UwCiXxmLr1KEkhkCaz1Mwkk8pm59CpJIJElsNbPJJDIZ+bSqySBRJbAWj+TQCKfmUuvkgQSWQJr/UwCiXxmLr1KEkhkCaz1Mwkk8pm59CpJ4AOLvinHBVNx8QAAAABJRU5ErkJggg=="},644:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAALYAAABYCAYAAABYvg32AAAABHNCSVQICAgIfAhkiAAAA11JREFUeF7tlMFJhWEMBLUIi7D/XrQHLUJB8OLBYQkxMcy7Jrz83+ywjy9vHx8P/iRwjMCjYh9L1Od8EVBsRThJQLFPxuqjFFsHThJQ7JOx+ijF1oGTBBT7ZKw+SrF14CQBxT4Zq49SbB04SUCxT8bqoxRbB04SUOyTsfooxdaBkwQU+2SsPqos9vPT/4L4+v779/6393y/5tq76D1knWL/IKTYpMzfzBU75EzAFDsE2rROOdFZG9vGJkdG5oodYidgNnYItGmdcqKzNraNTY6MzBU7xE7AbOwQaNM65URnbWwbmxwZmSt2iJ2A2dgh0KZ1yonO2tg2NjkyMlfsEDsBs7FDoE3rlBOdtbFtbHJkZK7YIXYCZmOHQJvWKSc6a2Pb2OTIyFyxQ+wEzMYOgTatU0501sa2scmRkblih9gJmI0dAm1ap5zorI1tY5MjI3PFDrETMBs7BNq0TjnRWRvbxiZHRuaKHWInYDZ2CLRpnXKisza2jU2OjMwVO8ROwGzsEGjTOuVEZ21sG5scGZkrdoidgNnYIdCmdcqJztrYNjY5MjJX7BA7AbOxQ6BN65QTnbWxbWxyZGSu2CF2AmZjh0Cb1iknOmtj29jkyMhcsUPsBMzGDoE2rVNOdNbGtrHJkZG5YofYCZiNHQJtWqec6KyNbWOTIyNzxQ6xEzAbOwTatE450Vkb28YmR0bmih1iJ2A2dgi0aZ1yorM2to1NjozMFTvETsBs7BBo0zrlRGdtbBubHBmZK3aInYDZ2CHQpnXKic7a2DY2OTIyV+wQOwGzsUOgTeuUE521sW1scmRkrtghdgJmY4dAm9YpJzprY9vY5MjIXLFD7ATMxg6BNq1TTnTWxraxyZGRuWKH2AmYjR0CbVqnnOisjW1jkyMjc8UOsRMwGzsE2rROOdFZG9vGJkdG5oodYidgNnYItGmdcqKzNraNTY6MzBU7xE7AbOwQaNM65URnbWwbmxwZmY+LPfJqj0oACJQbW8IS2EhAsTem4jeVCSh2GaF/sJGAYm9MxW8qE1DsMkL/YCMBxd6Yit9UJqDYZYT+wUYCir0xFb+pTECxywj9g40EFHtjKn5TmYBilxH6BxsJKPbGVPymMgHFLiP0DzYSUOyNqfhNZQKKXUboH2wk8AmzzJnHLKUNUAAAAABJRU5ErkJggg=="},664:function(e,t,a){"use strict";a.r(t);var r=a(0),n=a.n(r),o=a(52),s=a(83),l=a(293),i=a(300),c=a(301),m=a(269),d=a(62),h=a.n(d),u=a(87),p=a(61),g=a(657),E=a(369),f=a(342),b=a(330),I=a(658),C=a(673),N=a(659),A=a(661),k=a(430);const y="FileComponent";var F=a(60),w=a(36),R=a(578),S=a.n(R),D=(a(277),a(275)),O=a(670),v=a(29),P=a(35),x=a(85),M=a(580),U=a.n(M);class j extends n.a.Component{error(){console.log("error")}render(){const e=this.props.options;return n.a.createElement(U.a,{options:e,error:this.error})}}var B=function({playbackURL:e,MimeType:t}){const a=Object(r.useState)(!0),o=Object(D.a)(a,2),s=o[0],i=o[1];function c(e){e.stopPropagation(),i(!s)}let m;if(s)m=n.a.createElement("div",{className:"img-thumbnail w-100 text-center","data-test":"videoPlayerWidget"},n.a.createElement(l.a,{color:"link",onClick:c},n.a.createElement("i",{className:"fa fa-play-circle fa-4x"})));else{const a=e.substring(0,e.lastIndexOf("."))+".vtt";console.log(a);const r={options:{sources:[{type:t,src:e}],subtitles:[{language:"en",url:a,label:"EN"}]}};m=v.createPortal(n.a.createElement(O.a,{className:"task-modal d-none d-sm-block","data-test":"videoPlayerWidget",isOpen:!s,toggle:c},n.a.createElement(j,r)),document.getElementById(P.d))}return n.a.createElement(x.a,null,m)},T=a(84),V=a(527),L=a(2);var Q=Object(T.b)((e,t)=>{const a=t.downloadURL;return{imageData:e.imageLoader[a]}},{downloadImage:e=>t=>{if(!e)throw new Error("Cannot have null url");t({type:L.C,status:L.K,payload:{url:e}}),p.a.get(e,{responseType:"arraybuffer"}).then(a=>{console.log(a);const r=new Blob([a.data]),n=URL.createObjectURL(r);t({type:L.C,status:L.L,payload:{url:e,data:n}})},a=>{t({type:L.C,status:L.J,payload:{url:e,error:a}})})}})((function({downloadURL:e,inViewport:t,imageData:a,downloadImage:d,currentPath:h}){const u=Object(r.useState)(!0),p=Object(D.a)(u,2),E=p[0],f=p[1],b=Object(r.useState)(0),I=Object(D.a)(b,2),C=I[0],N=I[1];function A(e){e.stopPropagation(),f(!E)}if(Object(r.useEffect)(()=>{t&&e&&!a&&d(e)}),E)return n.a.createElement("div",{onClick:A,"data-test":"toggleModal"},!a||a.isLoading?n.a.createElement(g.a,null,"Loading..."):n.a.createElement("img",{className:"img-thumbnail pd-0 m-0 -rotate-90",src:a.data,alt:""}));{const e=n.a.createElement("button",{className:"close",style:{position:"absolute",top:"15px",right:"15px"},onClick:A},n.a.createElement("i",{className:"fa fa-close fa-inverse"}));return v.createPortal(n.a.createElement(O.a,{className:"image-modal",isOpen:!E,toggle:A,external:e},n.a.createElement(m.a,{fluid:!0},n.a.createElement(s.a,null,n.a.createElement(o.a,{lg:8},n.a.createElement("img",{className:"rotatableImage img-thumbnail pd-0 m-0 "+(0!==C?"rotate"+C:""),src:a.data,alt:""})),n.a.createElement(o.a,{lg:4},n.a.createElement(i.a,null,n.a.createElement(V.a,null,"Operations"),n.a.createElement(c.a,null,n.a.createElement(s.a,null,n.a.createElement(l.a,{color:"link",onClick:function(){N(C>0?(C-90)%360:(360-C-90)%360)}},n.a.createElement("i",{className:"fa fa-rotate-left"})),n.a.createElement(l.a,{color:"link",onClick:function(){N((C+90)%360)}},n.a.createElement("i",{className:"fa fa-rotate-right"}))))))))),document.getElementById(P.d))}}));var J=function({playbackURL:e,MimeType:t}){const a=Object(r.useState)(!0),o=Object(D.a)(a,2),s=o[0],i=o[1];function c(e){e.stopPropagation(),i(!s)}let m;return m=s?n.a.createElement("div",{className:"img-thumbnail w-100 text-center","data-test":"audioPlayerWidget"},n.a.createElement(l.a,{color:"link",onClick:c},n.a.createElement("audio",{controls:!0},n.a.createElement("source",{src:e,type:t}),"Your browser does not support the audio tag."))):v.createPortal(n.a.createElement(O.a,{className:"task-modal d-none d-sm-block","data-test":"videoPlayerWidget",isOpen:!s,toggle:c},n.a.createElement("audio",{controls:!0},n.a.createElement("source",{src:e,type:t}),"Your browser does not support the audio tag.")),document.getElementById(P.d)),n.a.createElement(x.a,null,m)};function H(e){return{"image/jpeg":"Image","video/mp4":"Video","video/webm":"Video","audio/webm":"Audio","video/ogg":"Video","application/ogg":"Unspecified","audio/mpeg":"Audio","audio/wav":"Audio","audio/mp4":"Audio"}[e]}class Z extends n.a.Component{constructor(...e){super(...e),this.getRenderForItem=()=>{const e=this.props,t=e.fsInfo,a=e.item,r=e.inViewport,o=e.currentPath,s=o.remoteName,l=o.remotePath,i=a.MimeType;let c="";const m=localStorage.getItem(P.c);switch(c=t.Features.BucketBased?m+"[".concat(s,"]/").concat(l,"/").concat(a.Name):m+"[".concat(s,":").concat(l,"]/").concat(a.Name),i){case"image/jpeg":return n.a.createElement(Q,{item:a,downloadURL:c,inViewport:r});case"video/mp4":case"video/webm":case"audio/webm":case"video/ogg":case"application/ogg":return n.a.createElement(B,{playbackURL:c,MimeType:i,currentPath:o});case"audio/mpeg":case"audio/wav":case"audio/mp4":return n.a.createElement(J,{playbackURL:c,MimeType:i});default:return null}}}render(){const e=this.props,t=e.loadMedia;let a=H(e.item.MimeType)&&t?this.getRenderForItem():null;return n.a.createElement(x.a,null,a)}}var q=Object(T.b)((e,t)=>{const a=e.explorer.currentPaths[t.containerID],r=e.explorer.loadImages[t.containerID];let n={};const o=a.remoteName;if(a&&e.remote.configs){const t=o.split(":")[0];e.remote.configs[t]&&(n=e.remote.configs[t])}return{currentPath:a,fsInfo:n,loadMedia:r}},{})(Z);function Y(){return(Y=Object(u.a)(h.a.mark((function e(t){var a,r,n,o,s,l,i,c;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=t.srcRemoteName,r=t.srcRemotePath,n=t.destRemoteName,o=t.destRemotePath,s=t.Name,l=t.IsDir,i=t.dropEffect,c=t.updateHandler,"move"!==i){e.next=8;break}return e.next=4,Object(p.b)(a,r,n,o,s,l);case 4:c(),l?w.b.info("Directory copying started in background: ".concat(s)):w.b.info("File copying started in background: ".concat(s)),e.next=12;break;case 8:return e.next=10,Object(p.c)(a,r,n,o,s,l);case 10:c(),w.b.info("Directory moving started in background: ".concat(s));case 12:case"end":return e.stop()}}),e)})))).apply(this,arguments)}const G={canDrag:e=>!0,beginDrag(e){const t=e.item;return{Name:t.Name,Path:t.Path,IsDir:t.IsDir,remoteName:e.remoteName,remotePath:e.remotePath}},endDrag(e,t,a){console.log(e,"Component:",a);try{t.getDropResult()&&a&&function(e){Y.apply(this,arguments)}(t.getDropResult())}catch(r){const e=r.response?r.response:r;console.log(JSON.stringify(e)),w.b.error("Error copying file(s). ".concat(e),{autoClose:!1})}}};function X({IsDir:e,MimeType:t},...a){let r="fa-file";return e?r="fa-folder":"application/pdf"===t?r="fa-file-pdf-o":"image/jpeg"===t?r="fa-file-image-o":"application/rar"===t||"application/x-rar-compressed"===t||" application/zip"===t?r="fa-file-archive-o":"text/plain"===t?r="fa-file-text-o":"text/x-vcard"===t&&(r="fa-address-card-o"),n.a.createElement("i",{className:r+" fa fa-lg"})}function z(e,t){window.confirm("Are you sure you want to delete ".concat(t.Name))&&e(t)}function K({downloadHandle:e,deleteHandle:t,item:a,linkShareHandle:r}){return a.IsDir?n.a.createElement(n.a.Fragment,null,n.a.createElement(I.a,null,n.a.createElement(C.a,{color:"link"},n.a.createElement("i",{className:"fa fa-ellipsis-v"})),n.a.createElement(N.a,null,n.a.createElement(A.a,{header:!0},"Actions"),n.a.createElement(A.a,{onClick:()=>r(a)},n.a.createElement("i",{className:"fa fa-share fa-lg d-inline"})," Share with link"),n.a.createElement(A.a,{divider:!0}),n.a.createElement(A.a,{onClick:()=>z(t,a)},n.a.createElement("i",{className:"fa fa-remove fa-lg d-inline text-danger"})," Delete ")))):n.a.createElement(n.a.Fragment,null,n.a.createElement(l.a,{color:"link",onClick:()=>e(a)},n.a.createElement("i",{className:"fa fa-cloud-download fa-lg d-inline"})),n.a.createElement(l.a,{color:"link"},n.a.createElement("i",{className:"fa fa-info-circle"})),n.a.createElement(I.a,null,n.a.createElement(C.a,{color:"link"},n.a.createElement("i",{className:"fa fa-ellipsis-v"})),n.a.createElement(N.a,null,n.a.createElement(A.a,{header:!0},"Actions"),n.a.createElement(A.a,{onClick:()=>r(a)},n.a.createElement("i",{className:"fa fa-share fa-lg d-inline"})," Share with link"),n.a.createElement(A.a,{divider:!0}),n.a.createElement(A.a,{onClick:()=>z(t,a)},n.a.createElement("i",{className:"fa fa-remove fa-lg d-inline text-danger"})," Delete "))))}class W extends n.a.Component{handleClick(e,t,a,r){e&&t(a,r)}render(){const e=this.props,t=e.containerID,a=e.inViewport,r=e.item,o=e.loadImages,s=e.clickHandler,l=e.downloadHandle,m=e.linkShareHandle,d=e.deleteHandle,h=e.connectDragSource,u=e.gridMode,p=r.IsDir,g=r.MimeType,E=r.ModTime,f=r.Name,b=r.Size;let I,C=new Date(E);return I=h("card"===u?n.a.createElement("div",{className:p?"":"col-md-4"},n.a.createElement(i.a,null,n.a.createElement(c.a,{onClick:e=>this.handleClick(p,s,e,r)},o&&H(g)?n.a.createElement(q,{containerID:t,item:r,inViewport:a}):n.a.createElement(X,{IsDir:p,MimeType:g}),f),n.a.createElement(k.a,null,n.a.createElement(K,{downloadHandle:l,linkShareHandle:m,deleteHandle:d,item:r})))):n.a.createElement("tr",{className:"pointer-cursor"},n.a.createElement("td",{onClick:e=>s(e,r)},n.a.createElement(X,{IsDir:p,MimeType:g})," ",f),n.a.createElement("td",null,-1===b?"-":Object(F.g)(b,2)),n.a.createElement("td",{className:"d-none d-md-table-cell"},C.toLocaleDateString()),n.a.createElement("td",null,n.a.createElement(K,{downloadHandle:l,linkShareHandle:m,deleteHandle:d,item:r})))),n.a.createElement(x.a,null,I)}}const _=S()(W,{rootMargin:"-1.0px"});var $=Object(b.DragSource)(y,G,(function(e,t){return{connectDragSource:e.dragSource(),connectDragPreview:e.dragPreview(),isDragging:t.isDragging()}}))(_),ee=a(282),te=a(34),ae=a(278),re=a(654),ne=a(655),oe=a(287),se=a(656);class le extends n.a.Component{constructor(e){super(e),this.copyToClipboard=()=>{let e=document.createElement("textarea");e.innerText=this.props.linkUrl,document.body.appendChild(e),e.select(),document.execCommand("copy"),e.remove()},this.handleFocus=e=>e.target.select(),this.state={copySuccess:""},this.toggle=this.toggle.bind(this)}toggle(){this.props.closeModal()}render(){const e=this.props,t=e.isVisible,a=e.linkUrl,r=this.state.copySuccess;let o=!document||!document.queryCommandSupported||document.queryCommandSupported("copy");return n.a.createElement("div",null,n.a.createElement(O.a,{isOpen:t,toggle:this.toggle},n.a.createElement(re.a,{toggle:this.toggle,"data-test":"modalHeader"},"Public link generated."),n.a.createElement(ne.a,{"data-test":"modalBody"},n.a.createElement(oe.a,{readOnly:!0,value:a,onFocus:this.handleFocus}),o&&n.a.createElement("div",null,n.a.createElement(l.a,{color:"link",onClick:this.copyToClipboard},n.a.createElement("i",{className:"fa fa-clipboard fa-2x"}))),r),n.a.createElement(se.a,{"data-test":"modalFooter"},n.a.createElement(l.a,{color:"primary",onClick:this.toggle},"Done")," ")))}}le.defaultProps={isVisible:!0};var ie=le;var ce=function({height:e,children:t}){return n.a.createElement("div",{style:{overflow:"auto",height:e}},t)},me=a(279),de=a(630);const he={drop(e,t,a){if(t.didDrop())return;let r=t.getItem(),n=r.Name,o=r.Path,s=r.IsDir,l=r.remoteName;return{srcRemoteName:Object(F.a)(l),srcRemotePath:o,destRemoteName:Object(F.a)(e.currentPath.remoteName),destRemotePath:e.currentPath.remotePath,Name:n,IsDir:s,updateHandler:a.updateHandler}},canDrop(e,t){const a=t.getItem(),r=a.remoteName,n=a.remotePath,o=e.currentPath.remoteName,s=e.currentPath.remotePath;return o!==r||s!==n}};class ue extends n.a.PureComponent{constructor(e){super(e),this.closeLinkShareModal=()=>{this.setState({showLinkShareModal:!1})},this.showLinkShareModal=()=>{this.setState({showLinkShareModal:!0})},this.updateHandler=()=>{this.getFilesList()},this.dismissAlert=e=>{this.setState({isDownloadProgress:!1})},this.linkShareHandle=e=>{if(this.props.fsInfo.Features.PublicLink){const t=this.props.currentPath.remoteName;Object(me.createNewPublicLink)(t,e.Path).then(e=>{this.setState({generatedLink:e.url,showLinkShareModal:!0})},e=>{w.b.error("Error Generating link: "+e)})}else w.b.error("This remote does not support public link")},this.getFileComponents=e=>{const t=this.props,a=t.files,r=t.containerID,o=t.gridMode,s=t.fsInfo,l=t.loadImages,i=this.props.currentPath,c=i.remoteName,m=i.remotePath;if(s&&!Object(F.j)(s))return a.reduce((t,a)=>{let i=a.ID,d=a.Name;return void 0===i&&(i=d),a.IsDir===e&&t.push(n.a.createElement($,{key:i,item:a,clickHandler:this.handleFileClick,downloadHandle:this.downloadHandle,deleteHandle:this.deleteHandle,remoteName:c,remotePath:m,gridMode:o,containerID:r,linkShareHandle:this.linkShareHandle,loadImages:l,isBucketBased:s.Features.BucketBased,canCopy:s.Features.Copy,canMove:s.Features.Move,itemIdx:1})),t},[])},this.applySortFilter=e=>{const t=this.props,a=t.changeSortFilter,r=t.containerID;return this.props.sortFilter===e?a(r,e,!0!==this.props.sortFilterAscending):a(r,e,!0)},this.state={isLoading:!1,isDownloadProgress:!1,downloadingItems:0,shouldUpdate:!0,showLinkShareModal:!1,generatedLink:""},this.handleFileClick=this.handleFileClick.bind(this),this.downloadHandle=this.downloadHandle.bind(this),this.deleteHandle=this.deleteHandle.bind(this)}handleFileClick(e,t){const a=t.Path,r=t.IsDir,n=t.IsBucket;r||n?this.updateRemotePath(a,r,n):this.downloadHandle(t)}updateRemotePath(e,t,a){const r=this.props.currentPath.remoteName;let n="",o="";a?(n=Object(F.a)(r)+e,o=""):t&&(n=r,o=e),this.props.changePath(this.props.containerID,n,o)}getFilesList(){const e=this.props.currentPath,t=e.remoteName,a=e.remotePath;this.props.getFiles(t,a)}downloadHandle(e){var t=this;return Object(u.a)(h.a.mark((function a(){var r,n,o,s,l,i,c,m;return h.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return r=t.props.currentPath,n=r.remoteName,o=r.remotePath,s=t.props.fsInfo,l="",l=s.Features.BucketBased?"/[".concat(n,"]/").concat(o,"/").concat(e.Name):"/[".concat(n,":").concat(o,"]/").concat(e.Name),t.setState(e=>({downloadingItems:e.downloadingItems+1,isDownloadProgress:!0})),a.next=7,Object(p.a)({url:l,method:"GET",responseType:"blob"});case 7:i=a.sent,c=window.URL.createObjectURL(new Blob([i.data])),(m=document.createElement("a")).href=c,m.setAttribute("download",e.Name),document.body.appendChild(m),m.click(),t.setState(e=>({downloadingItems:e.downloadingItems-1}),()=>{0===t.state.downloadingItems&&t.setState({isDownloadProgress:!1})});case 15:case"end":return a.stop()}}),a)})))()}deleteHandle(e){var t=this;return Object(u.a)(h.a.mark((function a(){var r;return h.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:if(r=t.props.currentPath.remoteName,a.prev=1,!e.IsDir){a.next=9;break}return a.next=5,Object(me.purgeDir)(r,e.Path);case 5:t.updateHandler(),w.b.info("".concat(e.Name," deleted.")),a.next=13;break;case 9:return a.next=11,Object(me.deleteFile)(r,e.Path);case 11:t.updateHandler(),w.b.info("".concat(e.Name," deleted."),{autoClose:!0});case 13:a.next=18;break;case 15:a.prev=15,a.t0=a.catch(1),w.b.error("Error deleting file. ".concat(a.t0),{autoClose:!1});case 18:case"end":return a.stop()}}),a,null,[[1,15]])})))()}render(){const e=this.state,t=e.isLoading,a=e.isDownloadProgress,r=e.downloadingItems,l=e.generatedLink,i=e.showLinkShareModal,c=this.props,d=c.connectDropTarget,h=c.isOver,u=c.files,p=c.gridMode,b=c.canDrop,I=c.sortFilter,C=c.sortFilterAscending,N=this.props.currentPath.remoteName;if(t||!u)return n.a.createElement("div",null,n.a.createElement(g.a,{color:"primary"})," Loading");{if(""===N)return n.a.createElement("div",null,"No remote is selected. Select a remote from above to show files.");let e=this.getFileComponents(!0),t=this.getFileComponents(!1),c="";if("card"===p)c=n.a.createElement(m.a,{fluid:!0},n.a.createElement(s.a,null,n.a.createElement(o.a,{lg:3},n.a.createElement("h3",null,"Directories"),n.a.createElement(ce,{height:P.b},e)),n.a.createElement(o.a,{lg:9},n.a.createElement("h3",null,"Files"),n.a.createElement(ce,{height:P.b},n.a.createElement(s.a,null,t)))));else{let a="fa fa-lg fa-arrow-down";C&&(a="fa fa-lg fa-arrow-up"),c=n.a.createElement(m.a,{fluid:!0,className:"p-0"},n.a.createElement(ce,{height:P.b},n.a.createElement(E.a,{className:"table table-responsive-sm table-striped table-fix-head"},n.a.createElement("thead",null,n.a.createElement("tr",null,n.a.createElement("th",{className:"pointer-cursor",onClick:()=>this.applySortFilter("name")},"Name ","name"===I&&n.a.createElement("i",{className:a})),n.a.createElement("th",{className:"pointer-cursor",onClick:()=>this.applySortFilter("size")},"Size ","size"===I&&n.a.createElement("i",{className:a})),n.a.createElement("th",{className:"d-none d-md-table-cell pointer-cursor",onClick:()=>this.applySortFilter("modified")},"Modified ","modified"===I&&n.a.createElement("i",{className:a})),n.a.createElement("th",null,"Actions"))),n.a.createElement("tbody",null,u.length>0?n.a.createElement(n.a.Fragment,null,n.a.createElement("tr",null,n.a.createElement("th",{colSpan:4},"Directories")),e,n.a.createElement("tr",null,n.a.createElement("th",{colSpan:4},"Files")),t):n.a.createElement("tr",null,n.a.createElement("th",{colSpan:4},"Files"))))))}return d(n.a.createElement("div",{className:"row"},h&&b&&n.a.createElement("div",{style:{position:"absolute",top:0,left:0,height:"100%",width:"100%",zIndex:1,opacity:.5,backgroundColor:"gray"}}),n.a.createElement(x.a,null,n.a.createElement(f.a,{color:"info",isOpen:a,toggle:this.dismissAlert,sm:12,lg:12},"Downloading ",r," file(s). Please wait."),c,n.a.createElement(ie,{closeModal:this.closeLinkShareModal,isVisible:i,linkUrl:l}))))}}}ue.defaultProps={};let pe=0;const ge=Object(de.a)((e,t)=>t.containerID,(e,t)=>e.explorer.currentPaths[t.containerID],(e,t)=>e.explorer.visibilityFilters[t.containerID],(e,t)=>e.explorer.sortFilters[t.containerID],(e,t)=>e.explorer.searchQueries[t.containerID],(e,t)=>e.explorer.sortFiltersAscending[t.containerID],(e,t)=>e.remote.files["".concat(e.explorer.currentPaths[t.containerID].remoteName,"-").concat(e.explorer.currentPaths[t.containerID].remotePath)],(e,t,a,r,n,o,s)=>(console.log("Files render : "+ ++pe),s=s.files,a&&""!==a&&(s=Object(F.d)(s,a)),n&&(s=Object(F.e)(s,n)),s.sort(Object(F.h)(r,o)),s));var Ee=Object(te.compose)(Object(T.b)((e,t)=>{const a=e.explorer,r=a.currentPaths,n=a.gridMode,o=a.searchQueries,s=a.loadImages,l=a.sortFilters,i=a.sortFiltersAscending,c=t.containerID,m=r[c],d=n[c],h=o[c],u=s[c],p=l[c],g=i[c];let E={};const f=m.remoteName,b=m.remotePath;if(m&&e.remote.configs){const t=f.split(":")[0];e.remote.configs[t]&&(E=e.remote.configs[t])}const I="".concat(f,"-").concat(b);let C=e.remote.files[I];return C&&(C=ge(e,t)),{files:C,currentPath:m,fsInfo:E,gridMode:d,searchQuery:h,loadImages:u,sortFilter:p,sortFilterAscending:g}},{getFiles:ee.e,navigateUp:ae.k,changePath:ae.b,changeSortFilter:ae.e}),Object(b.DropTarget)(y,he,(function(e,t){return{connectDropTarget:e.dropTarget(),isOver:t.isOver(),canDrop:t.canDrop()}})))(ue),fe=a(667),be=a(662),Ie=a(291),Ce=a(366),Ne=a(615),Ae=a(367),ke=a(42);class ye extends n.a.Component{constructor(e){super(e),this.disableForm=e=>{this.setState({disableForm:e})},this.changeName=e=>{const t=e.target.value;this.setState({name:t})},this.state={name:"",disableForm:!1},this.createNewFolder=this.createNewFolder.bind(this),this.handleSubmit=this.handleSubmit.bind(this),this.toggle=this.toggle.bind(this)}createNewFolder(){var e=this;return Object(u.a)(h.a.mark((function t(){var a,r,n,o,s,l;return h.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a=e.state.name,r=e.props.currentPath,n=r.remoteName,o=r.remotePath,s=e.props.fsInfo,n=Object(F.a)(n),t.prev=4,s.Features.BucketBased&&""===o?n+=a:""===o?o=a:o+="/"+a,l={fs:n,remote:o},e.disableForm(!0),t.next=10,p.a.post(ke.a.mkdir,l);case 10:e.disableForm(!1),e.toggle(),w.b.info("Folder created: ".concat(o)),e.props.getFilesForContainerID(e.props.containerID),t.next=20;break;case 16:t.prev=16,t.t0=t.catch(4),e.disableForm(!1),t.t0.response?w.b.error("Error creating folder: ".concat(t.t0.response.data.error)):w.b.error("Error creating folder: ".concat(t.t0));case 20:case"end":return t.stop()}}),t,null,[[4,16]])})))()}handleSubmit(e){e.preventDefault(),this.createNewFolder()}toggle(){this.props.closeModal()}render(){const e=this.state,t=e.name,a=e.disableForm,r=this.props,s=r.isVisible,i=r.currentPath;return n.a.createElement(O.a,{isOpen:s,toggle:this.toggle,"data-test":"newFolderComponent"},n.a.createElement(Ie.a,{onSubmit:this.handleSubmit},n.a.createElement(re.a,{toggle:this.toggle},"Create New folder at ",i.remoteName,": ",i.remotePath),n.a.createElement(ne.a,null,n.a.createElement(Ce.a,{row:!0},n.a.createElement(Ae.a,{for:"folderName",sm:5},"Enter the name"),n.a.createElement(o.a,{sm:7},n.a.createElement(oe.a,{type:"text",name:"folderName",id:"folderName",value:t,onChange:this.changeName,required:!0,autoFocus:!0}))),n.a.createElement("div",{className:"clearfix"},n.a.createElement(l.a,{type:"submit",color:"success",className:"float-right",disabled:a},n.a.createElement("i",{className:"fa fa-check fa-lg"}),"Create folder")))))}}var Fe=Object(T.b)((e,t)=>{const a=e.explorer.currentPaths[t.containerID];let r={};return a&&e.remote.configs&&e.remote.configs[a.remoteName]&&(r=e.remote.configs[a.remoteName]),{currentPath:a,fsInfo:r}},{getFilesForContainerID:ae.h})(ye);var we=a(348),Re=a(631),Se=a.n(Re);class De extends n.a.Component{constructor(e){super(e),this.openNewFolderModal=()=>{const e=this.props.fsInfo;e&&e.Features&&e.Features.CanHaveEmptyDirectories?this.setState({newFolderModalIsVisible:!0}):w.b.error("This remote cannot have empty directories")},this.closeNewFolderModal=()=>{this.setState({newFolderModalIsVisible:!1})},this.handleChangeFilter=e=>{const t=e.target.value;(0,this.props.changeVisibilityFilter)(this.props.containerID,t)},this.handleChangeGridMode=()=>{const e=this.props,t=e.gridMode;(0,e.changeGridMode)(e.containerID,"list"===t?"card":"list")},this.changeSearch=e=>{e.preventDefault();const t=this.props,a=t.containerID;(0,t.setSearchQuery)(a,e.target.value)},this.toggleDropDown=()=>{this.setState(e=>({dropdownOpen:!e.dropdownOpen}))},this.toggleAboutModal=()=>{const e=this.props.fsInfo;e&&e.Features&&e.Features.About?this.setState(e=>({isAboutModalOpen:!e.isAboutModalOpen}),()=>{if(this.state.isAboutModalOpen){const e=this.props.containerID;this.props.getAbout(e)}}):w.b.error("This remote does not support About")},this.handleCleanTrash=()=>{const e=this.props.fsInfo;if(e&&e.Features&&e.Features.CleanUp){if(window.confirm("Are you sure you want to clear the trash. This operation cannot be undone")){const e=this.props,t=e.currentPath,a=e.containerID;let r=t.remoteName;Object(me.cleanTrashForRemote)(r).then(e=>{200===e.status&&(Object(w.b)("Trash Cleaned"),this.props.getAbout(a))},e=>{w.b.error("Error clearing trash "+e)})}}else w.b.error("Clearing trash is not allowed on this remote")},this.changeLoadMedia=e=>{e.stopPropagation();const t=this.props;(0,t.setLoadImages)(t.containerID,!t.loadImages)},this.handleSearchOpen=()=>{const e=this.props.containerID;this.setState(t=>(t.searchOpen&&this.props.setSearchQuery(e,""),{searchOpen:!t.searchOpen}))},this.state={newFolderModalIsVisible:!1,isAboutModalOpen:!1,dropdownOpen:!1,searchOpen:!1},this.filterOptions=P.h}render(){const e=this.props,t=e.containerID,a=e.getFilesForContainerID,r=e.gridMode,i=e.navigateFwd,c=e.navigateBack,m=e.searchQuery,d=e.currentPath,h=e.doughnutData,u=this.state,p=u.newFolderModalIsVisible,E=u.dropdownOpen,f=u.isAboutModalOpen,b=u.searchOpen,I=d.remoteName,k=d.remotePath;return n.a.createElement("nav",{"aria-label":"breadcrumb",className:"row mt-3 mb-1"},n.a.createElement(o.a,{sm:4,md:3,className:"pl-0"},n.a.createElement(l.a,{color:"light",className:"mr-1 btn-explorer-action",onClick:()=>c(t)},n.a.createElement("i",{className:"fa fa-lg fa-arrow-left"})),n.a.createElement(l.a,{color:"light",className:"mr-1 btn-explorer-action",onClick:()=>i(t)},n.a.createElement("i",{className:"fa fa-lg fa-arrow-right"})),n.a.createElement(l.a,{className:"mr-1 btn-explorer-action",id:"RefreshButton",onClick:()=>a(t)},n.a.createElement("i",{className:"fa fa-lg fa-repeat"})),n.a.createElement(fe.a,{placement:"right",target:"RefreshButton"},"Refresh Files")),n.a.createElement(o.a,{sm:8,md:b?3:5},n.a.createElement("ol",{className:"breadcrumb float-center",style:{padding:"6px 12px"}},n.a.createElement("li",{className:"breadcrumb-item active"},I,":/"),k)),n.a.createElement(o.a,{sm:12,md:b?6:4,className:"pr-0"},n.a.createElement("div",{className:"float-right form-inline"},n.a.createElement(be.a,null,n.a.createElement(Ie.a,{inline:!0},n.a.createElement(Ce.a,null,b&&n.a.createElement(oe.a,{type:"text",placeholder:"Search",value:m,className:"animate-fade-in",onChange:this.changeSearch}),n.a.createElement(l.a,{className:"mr-1 btn-explorer-action",onClick:this.handleSearchOpen},n.a.createElement("i",{className:"fa fa-lg "+(b?"fa-close":"fa-search")})))),n.a.createElement(l.a,{className:"mr-1 btn-explorer-action p-1",id:"CreateFolderButton",onClick:this.openNewFolderModal},n.a.createElement("img",{src:Se.a,alt:"New Folder",className:"fa fa-lg"})," "),n.a.createElement(fe.a,{placement:"bottom",target:"CreateFolderButton"},"Create a new Folder"),n.a.createElement(Ne.a,{isOpen:E,toggle:this.toggleDropDown,direction:"down",id:"FilterButton"},n.a.createElement(C.a,{className:"btn-explorer-action"},n.a.createElement("i",{className:"fa fa-lg fa-filter"})),n.a.createElement(N.a,null,n.a.createElement(A.a,{key:"None",value:"",onClick:this.handleChangeFilter},"None"),this.filterOptions.map((e,t)=>n.a.createElement(A.a,{key:e,value:e,onClick:this.handleChangeFilter},e)))),n.a.createElement(l.a,{className:"btn-explorer-action",id:"ListViewButton",onClick:this.handleChangeGridMode},n.a.createElement("i",{className:"fa fa-lg "+("card"===r?"fa-list":"fa-th-large")})),n.a.createElement(fe.a,{placement:"right",target:"ListViewButton"},"card"===r?"List View":"Card View")),n.a.createElement(Fe,{containerID:t,isVisible:p,closeModal:this.closeNewFolderModal}),n.a.createElement(O.a,{isOpen:f,toggle:this.toggleAboutModal},n.a.createElement(re.a,null,"Status for ",I),n.a.createElement(ne.a,null,n.a.createElement(s.a,null,n.a.createElement(o.a,{sm:12},n.a.createElement("div",{className:"chart-wrapper"},n.a.createElement("p",null,"Space Usage (in GB)"),h&&!Object(F.j)(h)?n.a.createElement(we.a,{data:h}):n.a.createElement(n.a.Fragment,null,n.a.createElement(g.a,{color:"primary"}),"Loading")))),n.a.createElement(s.a,null,n.a.createElement(o.a,{sm:12},n.a.createElement(l.a,{color:"danger",onClick:this.handleCleanTrash},"Clean Trash ",n.a.createElement("i",{className:"fa fa-lg fa-trash"}))))),n.a.createElement(se.a,null)))))}}var Oe=Object(T.b)((e,t)=>{const a=e.providerStatus.about[t.containerID];let r={};const n=e.explorer.currentPaths[t.containerID];let o={};if(n&&e.remote.configs&&e.remote.configs[n.remoteName]&&(o=e.remote.configs[n.remoteName]),a){let e=[],t=[];for(var s=0,l=Object.entries(a);s<l.length;s++){const a=Object(D.a)(l[s],2),r=a[0],n=a[1];"total"!==r&&(e.push(r),t.push(Object(F.b)(n).toFixed(2)))}e.length>1&&t.length>1&&(r={labels:e,datasets:[{data:t,backgroundColor:["#FF6384","#36A2EB","#FFCE56","#ff7459"],hoverBackgroundColor:["#FF6384","#36A2EB","#FFCE56","#ff7459"]}]})}return{visibilityFilter:e.explorer.visibilityFilters[t.containerID],loadImages:e.explorer.loadImages[t.containerID],currentPath:e.explorer.currentPaths[t.containerID],gridMode:e.explorer.gridMode[t.containerID],searchQuery:e.explorer.searchQueries[t.containerID],fsInfo:o,doughnutData:r,numCols:e.remote.numCols}},{changeVisibilityFilter:ae.f,changeGridMode:ae.a,navigateBack:ae.i,navigateFwd:ae.j,getFilesForContainerID:ae.h,setSearchQuery:ae.n,getAbout:e=>(t,a)=>{let r=a().explorer.currentPaths[e].remoteName;r&&(Object(F.k)(r)||(r=Object(F.a)(r)),t({type:L.z,status:L.L,id:e,payload:{}}),Object(me.getRemoteInfo)(r).then(a=>{t({type:L.z,status:L.L,id:e,payload:a})},a=>{t({type:L.z,status:L.J,id:e,error:a})}))},setLoadImages:ae.m})(De),ve=a(337);class Pe extends n.a.Component{constructor(e){super(e),this.handleChangeRemoteName=e=>{const t=this.props,a=t.changeRemoteName,r=t.containerID,n=t.getFsInfo;a(r,e),n(e)},this.state={remoteNameTemp:""},this.updateRemoteName=this.updateRemoteName.bind(this),this.updateRemotePath=this.updateRemotePath.bind(this)}updateRemoteName(e){this.setState({remoteNameTemp:e})}updateRemotePath(e,t,a){const r=this.props.currentPath.remoteName;let n="",o="";a?(n=Object(F.a)(r)+e,o=""):t&&(n=r,o=e),this.props.changePath(this.props.containerID,n,o)}render(){const e=this.props.currentPath.remoteName,t=this.props,a=t.containerID,r=t.className,o=e&&""!==e;return n.a.createElement(x.a,null,n.a.createElement(i.a,{className:r},n.a.createElement(c.a,null,n.a.createElement(m.a,{fluid:!0},o?n.a.createElement(n.a.Fragment,null,n.a.createElement(Oe,{containerID:a}),n.a.createElement(Ee,{containerID:a})):n.a.createElement(ve.a,{remoteName:e,containerID:a,handleChangeRemoteName:this.handleChangeRemoteName})))))}}Pe.defaultProps={};var xe=Object(T.b)((e,t)=>{const a=e.explorer.currentPaths[t.containerID];let r={};const n=a.remoteName;if(a&&e.remote.configs){const t=n.split(":")[0];e.remote.configs[t]&&(r=e.remote.configs[t])}return{configs:e.remote.configs,hasError:e.remote.hasError,error:e.remote.error,currentPath:a,fsInfo:r}},{createPath:ae.g,changePath:ae.b,changeRemoteName:ae.c,changeRemotePath:ae.d,navigateUp:ae.k,navigateBack:ae.i,navigateFwd:ae.j,getFsInfo:ee.f})(Pe),Me=a(632),Ue=a.n(Me),je=a(642),Be=a.n(je),Te=a(643),Ve=a.n(Te),Le=a(644),Qe=a.n(Le),Je=a(648),He=a(646),Ze=a(647);var qe=Object(T.b)((e,t)=>({containers:e.remote.containers,numContainers:e.remote.numContainers,currentPaths:e.explorer.currentPaths,activeRemoteContainerID:e.remote.activeRemoteContainerID}),{addRemoteContainer:ee.a,removeRemoteContainer:ee.h,changeActiveRemoteContainer:ee.b})((function(e){const t=e.addRemoteContainer,a=e.removeRemoteContainer,r=e.changeActiveRemoteContainer,o=e.activeRemoteContainerID,s=e.containers,i=e.currentPaths,c=e.paneID,m=o?o[c]:"";return n.a.createElement(Je.a,{tabs:!0},s.map(({ID:e,paneID:t})=>{if(c===t){const o=e===m;return n.a.createElement(He.a,{key:"TAB_"+e,className:"col-md-2 pl-0 pr-0 custom-tab "+(o?"tab-active":"")},n.a.createElement(Ze.a,{className:"float-center",onClick:()=>r(e,t)},n.a.createElement("i",{className:"fa fa-folder-o pr-1"}),n.a.createElement("span",{className:"overflow-hidden"},i[e]&&""!==i[e].remoteName?i[e].remoteName:"Open New"),n.a.createElement(l.a,{className:"btn-no-background btn btn-secondary float-right p-0",onClick:r=>{r.stopPropagation(),a(e,t)}},n.a.createElement("i",{className:"fa fa-lg fa-close"}))))}return null}),n.a.createElement(He.a,{key:"ADD_BUTTON",className:"pl-0 pr-0"},n.a.createElement(Ze.a,{className:"float-center",onClick:()=>t(c)},n.a.createElement("i",{className:"fa fa-lg fa-plus"}))))}));class Ye extends n.a.Component{constructor(...e){super(...e),this.changeLayout=(e,t)=>{const a=this.props.changeNumCols;e!==a&&a(e,t)},this.toggleDistractionFreeMode=e=>{const t=this.props,a=t.distractionFreeMode;(0,t.changeDistractionFreeMode)(!a)},this.Panes=({numCols:e,activeRemoteContainerID:t,distractionFreeMode:a,containers:r})=>{let l=[];const i=12/e;for(let c=0;c<e;c++)l.push(n.a.createElement(o.a,{lg:i,key:c},n.a.createElement(s.a,null,n.a.createElement(o.a,{lg:12},n.a.createElement(qe,{paneID:c}))),r.map(({ID:e,paneID:r})=>r===c?n.a.createElement(xe,{containerID:e,key:e,className:t&&t[c]&&t[c]!==e?"d-none":"",distractionFreeMode:a}):null)));return l}}componentDidMount(){const e=this.props,t=e.numContainers,a=e.addRemoteContainer;t<1&&a(0)}render(){const e=this.props,t=e.numCols,a=e.distractionFreeMode,r=e.activeRemoteContainerID,i=e.containers;return n.a.createElement(x.a,null,n.a.createElement(s.a,{className:"d-none d-md-block","data-test":"remoteExplorerLayout"},a&&n.a.createElement("div",{className:"clearfix float-right"},n.a.createElement(l.a,{color:"success",className:"ml-2",onClick:this.toggleDistractionFreeMode},n.a.createElement("i",{className:"fa fa-arrows"}))),!a&&n.a.createElement(o.a,{sm:12,lg:12,className:"mb-3 d-none d-md-block"},n.a.createElement("span",{className:"text-choose-layout"},"Choose Layout: ","  "),n.a.createElement(l.a,{color:"primary",className:"ml-2 layout-change-button",onClick:()=>this.changeLayout(1,"horizontal")},n.a.createElement("img",{style:{height:24},src:Be.a,alt:"Single Vertical Pane"})),n.a.createElement(l.a,{color:"primary",className:"ml-2 layout-change-button",onClick:()=>this.changeLayout(2,"horizontal")},n.a.createElement("img",{style:{height:24},src:Ve.a,alt:"Double Vertical Pane"})),n.a.createElement(l.a,{color:"primary",className:"ml-2 layout-change-button",onClick:()=>this.changeLayout(3,"horizontal")},n.a.createElement("img",{style:{height:24},src:Qe.a,alt:"Triple Vertical Pane"})),n.a.createElement(l.a,{color:"success",className:"ml-2",onClick:this.toggleDistractionFreeMode},n.a.createElement("i",{className:"fa fa-arrows"})," Full Screen"))),n.a.createElement(s.a,null,n.a.createElement(this.Panes,{numCols:t,distractionFreeMode:a,activeRemoteContainerID:r,containers:i})))}}t.default=Object(te.compose)(Object(T.b)(e=>({backStacks:e.explorer.backStacks,numCols:e.remote.numCols,numContainers:e.remote.numContainers,distractionFreeMode:e.remote.distractionFreeMode,splitMode:e.remote.splitMode,activeRemoteContainerID:e.remote.activeRemoteContainerID,containers:e.remote.containers}),{createPath:ae.g,changeNumCols:ee.d,changeDistractionFreeMode:ee.c,addRemoteContainer:ee.a}),Object(b.DragDropContext)(Ue.a))(Ye)}}]);
//# sourceMappingURL=11.fd590a83.chunk.js.map